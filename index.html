<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js" integrity="sha256-2Pjr1OlpZMY6qesJM68t2v39t+lMLvxwpa8QlRjJroA=" crossorigin="anonymous"></script>

  <style>
    #picImg, #bootstrapFor, #wrapper{
      width: 400px; 
    }
  </style>

</head>

<body class="py-5 flex flex-col items-center" >
    <div class="" id="wrapper">
  <img src="#" id="picImg" class="hidden"/>

  <div class="flex flex-col items-end w-full" >
  </div>
  <form action="https://docs.google.com/forms/d/e/1FAIpQLSf6OgAjepwCfIi9LPhtTNG9m4CtFEp_cUaB6Z8LdYBi_DktUA/formResponse"
  target="_self"
  id="bootstrapForm"
  method="POST"
  >


<!-- Field type: "short" id: "2050438464" -->
<fieldset class="mb-2">
    <legend for="2050438464" class="text-xl">id zdjęcia</legend>
    <div class="form-group flex flex-row">
        <input id="2020640437" type="text" name="entry.2020640437" class="form-control border flex-1" required readonly>
        <button class="border px-1.5 py-1" onclick="takePicture()" type="button" id="takePicBtn" disabled>Zrób zdjęcie</button>
    </div>
</fieldset>


<!-- Field type: "dropdown" id: "957393654" -->
<fieldset class="mb-2">
    <legend for="957393654" class="text-xl">Rodzaj zboża</legend>
    <div class="form-group">
        <select id="957393654" name="entry.854562294" class="form-control">
            <option value="pszenica">pszenica</option>
            <option value="jęczmień">jęczmień</option>
            <option value="żyto">żyto</option>
            <option value="przenżyto">przenżyto</option>
            <option value="kukurydza">kukurydza</option>
            <option value="rzepak">rzepak</option>
        </select>
    </div>
</fieldset>


<!-- Field type: "checkboxes" id: "1991476230" -->
<fieldset class="mb-2">
    <legend for="1991476230" class="text-xl">Szkodniki</legend>
    <div class="form-group">
        <div class="checkbox w-full flex">
            <label>
                <input type="checkbox" name="entry.909029091" value="wołek zbożowy" >
                wołek zbożowy
            </label>
        </div>
        <div class="checkbox w-full flex">
            <label>
                <input type="checkbox" name="entry.909029091" value="trojszyk" >
                trojszyk
            </label>
        </div>
        <div class="checkbox w-full flex">
            <label>
                <input type="checkbox" name="entry.909029091" value="rozpłaszczyk" >
                rozpłaszczyk
            </label>
        </div>
        <div class="checkbox w-full flex">
            <label>
                <input type="checkbox" name="entry.909029091" value="rozkruszek" >
                rozkruszek
            </label>
        </div>
        <div class="checkbox w-full flex">
            <label>
                <input type="checkbox" name="entry.909029091" value="wołek kukurydziany" >
                wołek kukurydziany
            </label>
        </div>
        <div class="checkbox w-full flex">
            <label>
                <input type="checkbox" name="entry.909029091" value="__other_option__" >
            </label>
            <input type="text" class="flex-1" name="entry.909029091.other_option_response" placeholder=" inne.. np. rozkruszek, rozpłaszczyk">
        </div>
    </div>
</fieldset>


<!-- Field type: "checkboxes" id: "508621328" -->
<fieldset class="mb-2">
    <legend for="508621328" class="text-xl">Choroby</legend>
    <div class="form-group">
        <div class="checkbox w-full flex">
            <label>
                <input type="checkbox" name="entry.1498885687" value="choroby grzybowe/fusarium" >
                choroby grzybowe/fusarium
            </label>
        </div>
        <div class="checkbox w-full flex">
            <label>
                <input type="checkbox" name="entry.1498885687" value="śnieć cuchnąca" >
                śnieć cuchnąca
            </label>
        </div>
        <div class="checkbox w-full flex">
            <label>
                <input type="checkbox" name="entry.1498885687" value="śnieć karłowa" >
                śnieć karłowa
            </label>
        </div>
        <div class="checkbox w-full flex">
            <label class="">
                <input type="checkbox" class="" name="entry.1498885687" value="__other_option__" >
            </label>
            <input type="text" class="flex-1" name="entry.1498885687.other_option_response" placeholder=" inne.. np. śnieć, fusarium">
        </div>
    </div>
</fieldset>

<div class="flex flex-col items-center mt-5" >
    <input class="border px-1.5 py-1 w-full" type="submit" value="Wyślij">
</div>
</form>
    </div>

<script src="index.js"></script>
<script>
$('#bootstrapForm').submit(function (event) {
    event.preventDefault()
    var extraData = {}
    $('#bootstrapForm').ajaxSubmit({
        data: extraData,
        dataType: 'jsonp',  // This won't really work. It's just to use a GET instead of a POST to allow cookies from different domain.
        error: function () {
            // Submit of form should be successful but JSONP callback will fail because Google Forms
            // does not support it, so this is handled as a failure.
            const picIdInput = document.getElementById("2020640437");
            
            movePicture(picIdInput.value);
            alert('Form Submitted. Thanks.')
            // clearForm();
            document.getElementById("bootstrapForm").reset();
            // You can also redirect the user to a custom thank-you page:
            // window.location = 'http://www.mydomain.com/thankyoupage.html'
        }
    })
})
</script>
</body>
</html>